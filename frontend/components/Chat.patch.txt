--- Chat.tsx (apply manually)
@@
- const res = await postMessage({ text: input, threadId: selectedThreadId });
+ // When "New thread" is selected, pass threadId: null to force a fresh thread.
+ const desired = selectedThreadId ?? null;
+ const res = await postMessage({ text: input, threadId: desired });
+ if (res?.threadId && res.threadId !== selectedThreadId) {
+   setSelectedThreadId(res.threadId); // follow server source-of-truth
+ }
+ if (res?.savedOnly) {
+   setBanner("Saved â€” assistant will respond shortly."); // optional UX
+ }
